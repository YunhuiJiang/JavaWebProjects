<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.deepsl.hrm.dao.DeptDao">
  

   
   <select id="selectById" parameterType="int"  resultType="org.deepsl.hrm.domain.Dept" >
		 select * from  dept_inf  where id=#{id}
   </select>
   
   <delete id="deleteById" parameterType="int" >
   		delete from dept_inf where id=#{id}
   </delete>
   
   
    <insert id="save" parameterType="org.deepsl.hrm.domain.Dept" >
  		<selectKey keyProperty="id" resultType="Integer" order="AFTER">
			select LAST_INSERT_ID()
		</selectKey>
   		insert into dept_inf (name,remark) values(#{name},#{ remark} )
   </insert>
   
   <select id="selectAllDept"   resultType="org.deepsl.hrm.domain.Dept" >
		 select * from  dept_inf  
   </select>
   
   <update id="update" parameterType="org.deepsl.hrm.domain.Dept">
   		update dept_inf  
   		<trim prefix="set" suffixOverrides=",">
   			<if test="name!=null and name.trim()!=''">
	         	 name=#{name},
	         </if>
	         <if test="remark!=null and remark.trim()!=''">
	         	 remark=#{remark},
	         </if>
	         
	    </trim>
 			WHERE id=#{id}
   </update>
   
   
   

	
	<!-- <resultMap type="user" id="userList">
		<id 
	</resultMap> -->
	<select id="count" parameterType="hashmap"  resultType="Integer" >
		 select count(*) from  dept_inf  
		 <where>
		 	<trim prefix=" " suffixOverrides="and">
   			<if test="dept.name!=null and dept.name.trim()!=''">
	         	 name like #{dept.name} and
	         </if>
	         <if test="dept.remark!=null and dept.remark.trim()!='' ">
	         	 remark=#{dept.remark} and 
	         </if>
	    </trim>
		 </where>	 
   </select>
   
   
	<select id="selectByPage" parameterType="hashmap"  resultType="org.deepsl.hrm.domain.Dept" >
		 select * from  dept_inf  
		 <where>
		 	<trim prefix=" " suffixOverrides="and">
   			<if test="dept.name!=null and dept.name.trim()!=''">
	         	 name like #{dept.name} and
	         </if>
	         <if test="dept.remark!=null and dept.remark.trim()!='' ">
	         	 remark=#{dept.remark} and 
	         </if>
	    </trim>
		 </where>
		 
   			<if test="pageModel.pageSize!=null ">
	         	 limit #{pageModel.pageSize} 
	         </if>
	         <if test="pageModel.pageIndex!=null ">
	         	 offset #{pageModel.firstLimitParam}
	         </if>		 
   </select>

</mapper>